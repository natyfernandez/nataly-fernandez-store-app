<main>
    <h1>Home</h1>

    <div class="row">
        {{#each products.docs}}
        <div class="col s12 m4">
            <div class="card">
                <div class="card-image">
                    <img src="{{this.thumbnail}}">
                </div>
                <div class="card-content">
                    <h3 class="card-title">{{this.title}}</h3>
                    <p><strong>{{this.price}}</strong></p>
                    <p>{{this.description}}</p>
                </div>
                <div class="card-action">
                    <form class="add-to-cart-form" action="/carts/{{../cart}}/product/{{this._id}}" enctype="multipart/form-data" method="POST">
                        <button type="submit">Agregar al Carrito</button>
                    </form>
                </div>
            </div>
        </div> 
        {{/each}}
    </div>

    <div class="row">
        {{#if products.prevPage}}
            <a class="btn waves-effect waves-light" href="/?page={{products.prevPage}}">Anterior</a>
        {{/if}}

        {{#if products.nextPage}}
            <a class="btn right waves-effect waves-light" href="/?page={{products.nextPage}}">Siguiente</a>
        {{/if}}
    </div>
</main>

<section>
    <h2>Crear producto</h2>
    
    <form id="form" class="col s12" action="/api/products" enctype="multipart/form-data" method="post">
        <div class="row">
            <div class="input-field col s12">
                <input id="title" name="title" type="text">
                <label for="title">Titulo</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <input id="price" name="price" type="number">
                <label for="price">Precio</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <input id="description" name="description" type="text">
                <label for="description">Descripción</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <input id="stock" name="stock" type="number">
                <label for="stock">Stock</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <input id="category" name="category" type="text">
                <label for="category">Categoría</label>
            </div>
        </div>
        <div class="file-field input-field">
            <div class="btn">
                <span>Portada</span>
                <input id="thumbnail" name="image" type="file">
            </div>
            <div class="file-path-wrapper">
                <input class="file-path validate" type="text" placeholder="Carga la imagen del producto">
            </div>
        </div>
        <button class="btn waves-effect waves-light" type="submit" name="action">Enviar
            <i class="material-icons right">send</i>
        </button>
    </form>
</section>